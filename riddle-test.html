<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
	      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<!-- 8-bit Font/CSS -->
	<link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
	<link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />

	<!-- Custom CSS -->
	<link rel="stylesheet" href="css/riddle-test.css">


	<title>Lovelace Game</title>
</head>
<body>
<div class="heartDiv">
	<img src="" id="heart1" class="heart">
	<img src="" id="heart2" class="heart">
	<img src="" id="heart3" class="heart">
	<img src="" id="heart4" class="heart">
	<img src="" id="heart5" class="heart">
</div>
<!------ Main Container holding Everything Start -->
<div class="container-fluid m-0 vh-100" id="body-container">
	<!---------- Picture Row Start -->
	<div class="row" id="picture">
		<!---------- Background Image -->
		<img src="img/background-10.png" id="forest" alt="forest">
		<img src="img/Wizrobe.gif" id="wizzrobe" alt="wizzrobe sprite" class="position-absolute hide-me first">
	</div>
	<!---------- Picture Row End -->

	<!---------- Text Row Start -->
	<div class="row" id="text">
		<div class="col-12 w-100 bg-secondary">
			<p class="text-wrap mt-3" id="introTextLine"></p>
		</div>
	</div>
	<!---------- Text Row End -->

	<!---------- Button Row Start -->
	<div class="row d-flex justify-content-center p-3 bg-secondary" id="button">
		<div class="col-12 w-100 bg-secondary d-flex justify-content-around">
			<button type="button" id="1" class="btn btn-outline-dark game-button-border"></button>
			<button type="button" id="2" class="btn btn-outline-dark game-button-border"></button>
			<button type="button" id="3" class="btn btn-outline-dark game-button-border"></button>
			<button type="button" id="4" class="btn btn-outline-dark game-button-border"></button>
		</div>
	</div>
	<!---------- Button Row End -->

</div>
<!------ Main Container holding Everything End -->
<script src="js/jquery-2.2.4.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
<script>
    "use strict";
    var currentRiddleObject;
    var currentRiddleArray = [];
    var currentRiddleObjectNum = 1;
    var currentRiddleArrayNum = 1;


    // Array of Objects with Riddles
    var riddlesArray1 = [
        {
            riddle: "I will crack if you drop me. If you smile at me, I’ll smile back. What am I?",
            answer1: "An egg.",
            answer2: "A vase.",
            answer3: "A mirror.",
            answer4: "A nut.",
            correctAnswer: 3


        },

        {

            riddle: "Pick me up and scratch my head. I’ll turn red and then black. What am I?",
            answer1: "A match.",
            answer2: "A candle.",
            answer3: "A caterpillar.",
            answer4: "None of the above.",
            correctAnswer: 1
        },

        {

            riddle: "What is always coming but never arrives?",
            answer1: "A train.",
            answer2: "Your paycheck.",
            answer3: "Tomorrow.",
            answer4: "The mail.",
            correctAnswer: 3
        }
    ];

    var riddlesArray2= [

        {

            riddle: "If you have it, you want to share it. If you share it, you don’t have it anymore. What is it?",
            answer1: "Love.",
            answer2: "A secret.",
            answer3: "Talent.",
            answer4: "None of the above.",
            correctAnswer: 2
        },
        {

            riddle: "What has 42 eyes and 12 faces?",
            answer1: "A pair of dice.",
            answer2: "Your mother-in-law.",
            answer3: "An alien.",
            answer4: "A hockey team.",
            correctAnswer: 1
        },
        {

            riddle: "This belongs to you, but everyone else uses it. ",
            answer1: "Your voice.",
            answer2: "Your shadow.",
            answer3: "Your code.",
            answer4: "Your name.",
            correctAnswer: 4
        }
    ];


    var riddlesArray3 = [
        {

            riddle: "I can’t be seen, but I can be heard. I won’t answer until spoken to. What am I?",
            answer1: "A dream.",
            answer2: "Children.",
            answer3: "A voice.",
            answer4: "An echo.",
            correctAnswer: 4
        },
        {

            riddle: "What gets thrown out when it’s needed, but stored away when it’s not?",
            answer1: "Garbage.",
            answer2: "An anchor.",
            answer3: "A message in a bottle.",
            answer4: "A ship's captain.",
            correctAnswer: 2
        },
        {

            riddle: "I start off dry but emerge wet. I go in light but emerge heavy. What am I?",
            answer1: "Rice.",
            answer2: "Powder.",
            answer3: "A swimmer.",
            answer4: "A tea bag.",
            correctAnswer: 4
        }
    ];
    var giantArray = [riddlesArray1, riddlesArray2, riddlesArray3];


    console.log(riddlesArray1);

    setArray();
    setObject();


    function setObject() {
        if (currentRiddleObjectNum === 1) {
            currentRiddleObject = currentRiddleArray[0];
        }if (currentRiddleObjectNum === 2) {
            currentRiddleObject = currentRiddleArray[1];
        }if (currentRiddleObjectNum === 3) {
            currentRiddleObject = currentRiddleArray[2];
        }
    }




    function setArray() {
	    var randomArray = Math.floor(Math.random() * giantArray.length);
	    currentRiddleArray = giantArray[randomArray];

    }

    
    
    let txtLine = $("#introTextLine")[0];
    let answer1 = $("#1")[0];
    let answer2 = $("#2")[0];
    let answer3 = $("#3")[0];
    let answer4 = $("#4")[0];

    // add riddle to page
	function displayRiddle() {
	    txtLine.innerHTML = currentRiddleArray[currentRiddleObjectNum - 1].riddle;

    }
    displayRiddle();
	// add answers to buttons
	function displayAnswers() {
	    answer1.innerHTML = currentRiddleArray[currentRiddleObjectNum - 1].answer1;
	    answer2.innerHTML = currentRiddleArray[currentRiddleObjectNum - 1].answer2;
	    answer3.innerHTML = currentRiddleArray[currentRiddleObjectNum - 1].answer3;
	    answer4.innerHTML = currentRiddleArray[currentRiddleObjectNum - 1].answer4;

    }
    displayAnswers();
	//when the player clicks the button  and if it matches the correctAnswer value do...

        $("button").click(function () {
            var userButton = $(this).attr('id');
            console.log(currentRiddleArray[currentRiddleObjectNum - 1].correctAnswer);
            if (parseFloat(userButton) === currentRiddleArray[currentRiddleObjectNum - 1].correctAnswer) {
                console.log("yay");

            } else {
                console.log("booo");
                //do something else if wrong
            }
        });


	answer1.addEventListener('click', riddle1);
    function riddle1(num) {
        if (riddlesArray1[0].correctAnswer === 1) {
            right();
        } else {
            wrong();
        }

    }
    //if the player clicks this button and it matches the correctAnswer value do...
    answer2.addEventListener('click', riddle2);
    function riddle2(num) {
        if (riddlesArray1[0].correctAnswer === 2) {
            right();
        } else {
            wrong();
        }

    }


    //if the player clicks this button and it matches the correctAnswer value do...
	answer3.addEventListener('click', riddle3);
    function riddle3(num) {
        // console.log(num.value);
        if (riddlesArray1[0].correctAnswer === 3) {
            right();
        } else {
            wrong();
        }

    }
    //if the player clicks this button and it matches the correctAnswer value do...
    answer4.addEventListener('click', riddle4);

    function riddle4(num) {
        if (riddlesArray1[0].correctAnswer === 4) {
            right();
        } else {
            wrong();
        }

    }
// change border color of correct answer
function rightScene() {

    //replace riddle with a message prompting player to press spacebar to continue, remove event listener after done using

}

//change border color of wrong answer(s) to red, -0.5 from player's hp or hearts, start next riddle?
function wrongScene() {
   $(".btn").click(function () {
		$(".btn").css("border", "1px solid red");
   })

}

    function right() {

        if (currentRiddleObjectNum > 2) {
            currentRiddleObjectNum = 1;
            if (currentRiddleArrayNum > 2) {
                currentRiddleArrayNum = 1;
            } else {
                currentRiddleArrayNum++;
            }

            location.replace("level2-page.html");
        } else {
            currentRiddleObjectNum++;
        }

        setArray();
        setObject();
        displayRiddle();
        displayAnswers();
    }

    function wrong() {

        if (currentRiddleObjectNum > 2) {
            currentRiddleObjectNum = 1;
            if (currentRiddleArrayNum > 2) {
                currentRiddleArrayNum = 1;
            } else {
                currentRiddleArrayNum++;
            }

            location.replace("level2-page.html");
        } else {
            currentRiddleObjectNum++;
        }

        setArray();
        setObject();
        displayRiddle();
        displayAnswers();
    }
</script>
</body>
</html>